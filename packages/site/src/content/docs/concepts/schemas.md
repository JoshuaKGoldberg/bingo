---
description: "Option types and default values that will be used to scaffold a repository."
title: Schemas
---

:::danger
The `create` engine is very early stage.
Don't rely on it yet.
:::

A _Schema_ defines an object of option types and default values that will be used to scaffold a repository.
Schemas are used to generate [Blocks](./blocks) and [Presets](./presets.md) that rely on user-specified values for those options.

## Options

Each Schema is associated with a set of _options_ represented by [Zod](https://zod.dev) values.
Each property of those options represents a configurable value that can be provided by a user.
Those options carry through to Blocks and Presets associated with the Schema.

For example, a minimal Schema that stores only a `name` string could look like:

```ts
import { createSchema } from "create";
import { z } from "zod";

export const schema = createSchema({
	options: {
		name: z.string(),
	},
});
```

Blocks and Presets made with that `schema` will have access to the `name` option of type `string`.

## Production

Schemas can optionally define a `produce()` function that provides default fallback values for options.
Those fallback values will be used if the user doesn't provide their own values during creation.

For example, this Schema defaults its `value` option to `"default"`,

```ts
import { createSchema, createSchema } from "create";
import { z } from "zod";

export const schema = createSchema({
	options: {
		value: z.string().optional(),
	},
	produce(options) {
		return {
			value: options.value ?? "default",
		};
	},
});
```

Options generated by `produce()` are typically used to update a repository that was previously set up with the same [Preset](./preset).
Doing so can allow a Schema's creations to be re-run in an existing repository without manually providing all of the same options again.

## APIs

- [`createSchema`](../usage/creators#createschema): for creating Schemas
- [`produceSchema`](../usage/producers#produceschema): for producing Schema options
- [`testSchema`](../usage/testers#testschema): for simulating Schema production in tests
